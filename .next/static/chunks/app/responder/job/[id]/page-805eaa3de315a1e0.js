(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[433],{1819:function(e,r,s){Promise.resolve().then(s.bind(s,6250))},6250:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return N}});var t=s(3827),a=s(4090),n=s(7907),i=s(5754),d=s(7815),l=s(911),c=s(1864),o=s(660),u=s(1478),m=s(4569),p=s(3444),h=s(5904),x=s(438),f=s(7528),j=s(2457),v=s(5083),b=s(7995),y=s(9842),g=s(1792);function N(e){let{params:r}=e,s=(0,n.useRouter)(),{toast:N}=(0,v.pm)(),[w,k]=(0,a.useState)("accepted"),[C,R]=(0,a.useState)([{sender:"customer",text:"Hi there! I'm having an issue with my battery. My car won't start and I'm stranded.",time:"10:15 AM"},{sender:"provider",text:"I'm on my way to help with your battery issue. Do you have any specific details about your vehicle that would be helpful?",time:"10:32 AM"}]),[_,z]=(0,a.useState)(""),M=e=>{k(e);let r="";switch(e){case"en_route":r="You've marked yourself as en route to the customer.";break;case"arrived":r="You've marked yourself as arrived at the customer's location.";break;case"in_progress":r="You've marked the job as in progress.";break;case"completed":r="You've marked the job as completed."}N({title:"Status updated",description:r}),"completed"===e&&setTimeout(()=>{s.push("/responder/dashboard")},2e3)};return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)("header",{className:"border-b",children:(0,t.jsxs)("div",{className:"container flex h-16 items-center px-4",children:[(0,t.jsx)(g.T,{}),(0,t.jsx)(l.J,{className:"mx-6"}),(0,t.jsx)("div",{className:"ml-auto flex items-center space-x-4",children:(0,t.jsx)(c.s,{})})]})}),(0,t.jsx)("main",{className:"flex-1",children:(0,t.jsxs)("div",{className:"container grid items-start gap-6 px-4 py-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Job Details"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your current assistance job"})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"Customer Information"}),(0,t.jsx)(d.SZ,{children:"Details about the customer and their request"})]}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(o.qE,{className:"h-12 w-12",children:[(0,t.jsx)(o.F$,{src:"/placeholder.svg?height=48&width=48",alt:"Customer"}),(0,t.jsx)(o.Q5,{children:"AJ"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Alex Johnson"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(i.z,{size:"sm",variant:"ghost",className:"h-8 gap-1 px-2 text-xs",children:[(0,t.jsx)(h.Z,{className:"h-3 w-3"}),"Call"]}),(0,t.jsxs)(i.z,{size:"sm",variant:"ghost",className:"h-8 gap-1 px-2 text-xs",children:[(0,t.jsx)(x.Z,{className:"h-3 w-3"}),"Message"]})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"font-medium",children:"Battery Assistance"}),(0,t.jsx)(u.C,{className:"ml-auto",children:"accepted"===w?"Accepted":"en_route"===w?"En Route":"arrived"===w?"Arrived":"in_progress"===w?"In Progress":"Completed"})]}),(0,t.jsx)("p",{className:"text-sm",children:"Customer reports their Tesla Model 3 has run out of battery and needs emergency charging."}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Requested"}),(0,t.jsx)("span",{children:"Today at 10:15 AM"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Vehicle"}),(0,t.jsx)("span",{children:"Tesla Model 3 (2023)"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Battery Level"}),(0,t.jsx)("span",{children:"0%"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:"Location"})]}),(0,t.jsx)("p",{className:"text-sm",children:"123 Main St, San Francisco, CA 94105"}),(0,t.jsx)("div",{className:"mt-4 aspect-video w-full overflow-hidden rounded-md bg-muted",children:(0,t.jsxs)("div",{className:"flex h-full items-center justify-center",children:[(0,t.jsx)(j.Z,{className:"h-8 w-8 text-muted-foreground"}),(0,t.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Map view"})]})})]})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"Job Status"}),(0,t.jsx)(d.SZ,{children:"Update the status of this assistance job"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)(b.E,{value:w,onValueChange:M,className:"grid gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.m,{value:"accepted",id:"accepted",className:"peer sr-only",disabled:"accepted"!==w}),(0,t.jsxs)(y._,{htmlFor:"accepted",className:"flex cursor-pointer items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary peer-disabled:cursor-not-allowed peer-disabled:opacity-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10",children:(0,t.jsx)("span",{className:"text-xs font-medium text-primary",children:"1"})}),(0,t.jsx)("span",{children:"Accepted"})]}),"accepted"===w&&(0,t.jsx)(i.z,{size:"sm",onClick:()=>M("en_route"),children:"Mark En Route"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.m,{value:"en_route",id:"en_route",className:"peer sr-only",disabled:"en_route"!==w&&"accepted"!==w}),(0,t.jsxs)(y._,{htmlFor:"en_route",className:"flex cursor-pointer items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary peer-disabled:cursor-not-allowed peer-disabled:opacity-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10",children:(0,t.jsx)("span",{className:"text-xs font-medium text-primary",children:"2"})}),(0,t.jsx)("span",{children:"En Route"})]}),"en_route"===w&&(0,t.jsx)(i.z,{size:"sm",onClick:()=>M("arrived"),children:"Mark Arrived"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.m,{value:"arrived",id:"arrived",className:"peer sr-only",disabled:"arrived"!==w&&"en_route"!==w}),(0,t.jsxs)(y._,{htmlFor:"arrived",className:"flex cursor-pointer items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary peer-disabled:cursor-not-allowed peer-disabled:opacity-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10",children:(0,t.jsx)("span",{className:"text-xs font-medium text-primary",children:"3"})}),(0,t.jsx)("span",{children:"Arrived"})]}),"arrived"===w&&(0,t.jsx)(i.z,{size:"sm",onClick:()=>M("in_progress"),children:"Start Service"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.m,{value:"in_progress",id:"in_progress",className:"peer sr-only",disabled:"in_progress"!==w&&"arrived"!==w}),(0,t.jsxs)(y._,{htmlFor:"in_progress",className:"flex cursor-pointer items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary peer-disabled:cursor-not-allowed peer-disabled:opacity-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10",children:(0,t.jsx)("span",{className:"text-xs font-medium text-primary",children:"4"})}),(0,t.jsx)("span",{children:"In Progress"})]}),"in_progress"===w&&(0,t.jsx)(i.z,{size:"sm",onClick:()=>M("completed"),children:"Complete Job"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.m,{value:"completed",id:"completed",className:"peer sr-only",disabled:"completed"!==w&&"in_progress"!==w}),(0,t.jsx)(y._,{htmlFor:"completed",className:"flex cursor-pointer items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary peer-disabled:cursor-not-allowed peer-disabled:opacity-50",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10",children:(0,t.jsx)("span",{className:"text-xs font-medium text-primary",children:"5"})}),(0,t.jsx)("span",{children:"Completed"})]})})]})]})}),(0,t.jsxs)(d.eW,{className:"flex justify-between",children:[(0,t.jsx)(i.z,{variant:"outline",children:"Cancel Job"}),(0,t.jsx)(i.z,{variant:"destructive",disabled:"completed"===w,children:"Request Assistance"})]})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(d.Zb,{className:"h-[calc(100vh-10rem)]",children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.ll,{children:"Customer Communication"}),(0,t.jsx)(d.SZ,{children:"Chat with the customer"})]}),(0,t.jsxs)(o.qE,{className:"h-8 w-8",children:[(0,t.jsx)(o.F$,{src:"/placeholder.svg?height=32&width=32",alt:"Customer"}),(0,t.jsx)(o.Q5,{children:"AJ"})]})]})}),(0,t.jsx)(d.aY,{className:"flex h-[calc(100%-13rem)] flex-col gap-4 overflow-y-auto p-4",children:C.map((e,r)=>(0,t.jsx)("div",{className:"flex ".concat("provider"===e.sender?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("provider"===e.sender?"bg-primary text-primary-foreground":"bg-muted"),children:[(0,t.jsx)("p",{children:e.text}),(0,t.jsx)("p",{className:"mt-1 text-right text-xs ".concat("provider"===e.sender?"text-primary-foreground/80":"text-muted-foreground"),children:e.time})]})},r))}),(0,t.jsx)(m.Z,{}),(0,t.jsx)(d.eW,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,t.jsx)(p.g,{placeholder:"Type your message...",className:"min-h-[60px] flex-1",value:_,onChange:e=>z(e.target.value)}),(0,t.jsx)(i.z,{size:"icon",onClick:()=>{if(!_.trim())return;let e={sender:"provider",text:_,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};R(r=>[...r,e]),z(""),C.length<4&&setTimeout(()=>{let e={sender:"customer",text:"I have a Tesla Model 3. The display shows the battery is at 0% and I'm about 2 miles from the nearest charging station.",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};R(r=>[...r,e])},3e3)},disabled:!_.trim(),children:(0,t.jsx)(x.Z,{className:"h-4 w-4"})})]})})]})})]})})]})}},9842:function(e,r,s){"use strict";s.d(r,{_:function(){return c}});var t=s(3827),a=s(4090),n=s(4602),i=s(9769),d=s(1657);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(n.f,{ref:r,className:(0,d.cn)(l(),s),...a})});c.displayName=n.f.displayName},7995:function(e,r,s){"use strict";s.d(r,{E:function(){return q},m:function(){return F}});var t=s(3827),a=s(4090),n=s(4991),i=s(1266),d=s(4104),l=s(9586),c=s(3715),o=s(9310),u=s(3876),m=s(6769),p=s(5030),h=s(2642),x="Radio",[f,j]=(0,d.b)(x),[v,b]=f(x),y=a.forwardRef((e,r)=>{let{__scopeRadio:s,name:d,checked:c=!1,required:o,disabled:u,value:m="on",onCheck:p,form:h,...x}=e,[f,j]=a.useState(null),b=(0,i.e)(r,e=>j(e)),y=a.useRef(!1),g=!f||h||!!f.closest("form");return(0,t.jsxs)(v,{scope:s,checked:c,disabled:u,children:[(0,t.jsx)(l.WV.button,{type:"button",role:"radio","aria-checked":c,"data-state":k(c),"data-disabled":u?"":void 0,disabled:u,value:m,...x,ref:b,onClick:(0,n.M)(e.onClick,e=>{c||null==p||p(),g&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),g&&(0,t.jsx)(w,{control:f,bubbles:!y.current,name:d,value:m,checked:c,required:o,disabled:u,form:h,style:{transform:"translateX(-100%)"}})]})});y.displayName=x;var g="RadioIndicator",N=a.forwardRef((e,r)=>{let{__scopeRadio:s,forceMount:a,...n}=e,i=b(g,s);return(0,t.jsx)(h.z,{present:a||i.checked,children:(0,t.jsx)(l.WV.span,{"data-state":k(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})})});N.displayName=g;var w=a.forwardRef((e,r)=>{let{__scopeRadio:s,control:n,checked:d,bubbles:c=!0,...o}=e,u=a.useRef(null),h=(0,i.e)(u,r),x=(0,p.D)(d),f=(0,m.t)(n);return a.useEffect(()=>{let e=u.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(x!==d&&r){let s=new Event("click",{bubbles:c});r.call(e,d),e.dispatchEvent(s)}},[x,d,c]),(0,t.jsx)(l.WV.input,{type:"radio","aria-hidden":!0,defaultChecked:d,...o,tabIndex:-1,ref:h,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function k(e){return e?"checked":"unchecked"}w.displayName="RadioBubbleInput";var C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],R="RadioGroup",[_,z]=(0,d.b)(R,[c.Pc,j]),M=(0,c.Pc)(),E=j(),[A,Z]=_(R),S=a.forwardRef((e,r)=>{let{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:d=!1,disabled:m=!1,orientation:p,dir:h,loop:x=!0,onValueChange:f,...j}=e,v=M(s),b=(0,u.gm)(h),[y,g]=(0,o.T)({prop:i,defaultProp:null!=n?n:null,onChange:f,caller:R});return(0,t.jsx)(A,{scope:s,name:a,required:d,disabled:m,value:y,onValueChange:g,children:(0,t.jsx)(c.fC,{asChild:!0,...v,orientation:p,dir:b,loop:x,children:(0,t.jsx)(l.WV.div,{role:"radiogroup","aria-required":d,"aria-orientation":p,"data-disabled":m?"":void 0,dir:b,...j,ref:r})})})});S.displayName=R;var D="RadioGroupItem",I=a.forwardRef((e,r)=>{let{__scopeRadioGroup:s,disabled:d,...l}=e,o=Z(D,s),u=o.disabled||d,m=M(s),p=E(s),h=a.useRef(null),x=(0,i.e)(r,h),f=o.value===l.value,j=a.useRef(!1);return a.useEffect(()=>{let e=e=>{C.includes(e.key)&&(j.current=!0)},r=()=>j.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}},[]),(0,t.jsx)(c.ck,{asChild:!0,...m,focusable:!u,active:f,children:(0,t.jsx)(y,{disabled:u,required:o.required,checked:f,...p,...l,name:o.name,ref:x,onCheck:()=>o.onValueChange(l.value),onKeyDown:(0,n.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,n.M)(l.onFocus,()=>{var e;j.current&&(null===(e=h.current)||void 0===e||e.click())})})})});I.displayName=D;var T=a.forwardRef((e,r)=>{let{__scopeRadioGroup:s,...a}=e,n=E(s);return(0,t.jsx)(N,{...n,...a,ref:r})});T.displayName="RadioGroupIndicator";var L=s(7501),V=s(1657);let q=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(S,{className:(0,V.cn)("grid gap-2",s),...a,ref:r})});q.displayName=S.displayName;let F=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(I,{ref:r,className:(0,V.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,t.jsx)(T,{className:"flex items-center justify-center",children:(0,t.jsx)(L.Z,{className:"h-3.5 w-3.5 fill-primary"})})})});F.displayName=I.displayName},4569:function(e,r,s){"use strict";s.d(r,{Z:function(){return o}});var t=s(3827),a=s(4090),n=s(9586),i="horizontal",d=["horizontal","vertical"],l=a.forwardRef((e,r)=>{let{decorative:s,orientation:a=i,...l}=e,c=d.includes(a)?a:i;return(0,t.jsx)(n.WV.div,{"data-orientation":c,...s?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...l,ref:r})});l.displayName="Separator";var c=s(1657);let o=a.forwardRef((e,r)=>{let{className:s,orientation:a="horizontal",decorative:n=!0,...i}=e;return(0,t.jsx)(l,{ref:r,decorative:n,orientation:a,className:(0,c.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...i})});o.displayName=l.displayName},3444:function(e,r,s){"use strict";s.d(r,{g:function(){return i}});var t=s(3827),a=s(4090),n=s(1657);let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a})});i.displayName="Textarea"},438:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(7977).Z)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},5904:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(7977).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},4602:function(e,r,s){"use strict";s.d(r,{f:function(){return d}});var t=s(4090),a=s(9586),n=s(3827),i=t.forwardRef((e,r)=>(0,n.jsx)(a.WV.label,{...e,ref:r,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var d=i},5030:function(e,r,s){"use strict";s.d(r,{D:function(){return a}});var t=s(4090);function a(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}}},function(e){e.O(0,[250,233,16,636,539,110,971,69,744],function(){return e(e.s=1819)}),_N_E=e.O()}]);